/******************************************************************************/
/** @file       interrupt.c
 *******************************************************************************
 *
 *  @brief      All application defined interrupt handlers
 *
 *  @author     wht4
 *
 *  @remark     Last modifications
 *                 \li V1.0, February 2016, wht4, initial release
 *
 ******************************************************************************/
/*
 *  functions  global:
 *              SysTick_Handler
 *              EXTI0_1_IRQHandler
 *              NMI_Handler
 *              HardFault_Handler
 *              SVC_Handler
 *              PendSV_Handler
 *  functions  local:
 *              .
 *
 ******************************************************************************/

/****** Header-Files **********************************************************/
#include "stm32l0xx.h"

#include "systick.h"
#include "btn.h"

/****** Macros ****************************************************************/

/****** Data types ************************************************************/

/****** Function prototypes ****************************************************/

/****** Data ******************************************************************/

/****** Implementation ********************************************************/

/*******************************************************************************
 *  function :    SysTick_Handler
 ******************************************************************************/
void
SysTick_Handler(void) {

    systick_irq();
}


/*******************************************************************************
 *  function :    EXTI0_1_IRQHandler
 ******************************************************************************/
void
EXTI0_1_IRQHandler(void) {

    /* Is there an interrupt on line 0 */
    if((EXTI->PR & EXTI_PR_PR0) != 0) {

        EXTI->PR |= EXTI_PR_PR0;
        btn_isr(BTN_1);
    }
}


/*******************************************************************************
 *  function :    NMI_Handler
 ******************************************************************************/
void
NMI_Handler(void) {

    /* Default handler */
}


/*******************************************************************************
 *  function :    HardFault_Handler
 ******************************************************************************/
void
HardFault_Handler(void) {

    /* Go to infinite loop when Hard Fault exception occurs */
    while (1) {
    }
}


/*******************************************************************************
 *  function :    SVC_Handler
 ******************************************************************************/
void
SVC_Handler(void) {

    /* Default handler */
}


/*******************************************************************************
 *  function :    PendSV_Handler
 ******************************************************************************/
void
PendSV_Handler(void) {

    /* Default handler */
}

